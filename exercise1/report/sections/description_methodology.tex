\section{Description and Methodology}
\label{section:description_and_methodology}
To solve this task, we started out with the easiest solution, and then incrementally improving the energy consumtpion of the system. For these steps we used a simple procedure for controlling the lights; we copied the input registers into the output ones, making each button correspond to each LED output. This approach was chosen because it is easy to test the energy consumption. At the end of the exercise, we created a somewhat more advanced solution with animations and arithmetics

	\subsection{Setting up the GPIO}
	\label{subsection:gpio_setup}
	The gamepad created for this course requires some setup to be able to register input (button press) and create output (LED lights). We followed the instructions available at \cite[p. 24]{compendium}:
H
	\begin{itemize}
		\item Enabled the GPIO clock in the CMU by setting the CMU\_HFPERCLKEN0\_GPIO bit on the address pointed to by the CMU\_HFPERCLKEN0 constant.
		\item Enabld HIGH drive strength to the LEDs by setting the Port Control Register to 2 \cite[p. 766]{reference_manual}. Writing to this register let us select among STANDARD, LOWEST, HIGH, LOW settings to control the intensity of the LED light.
		\item Enabled LED output on bits 8-15 by writing $0x55555555$ to the \emph{PGIO\_PA\_CTRL} register.
		\item Enabled GPIO pins 0-7 as input (buttons) by writing $0x33333333$ to the \emph{GPIO\_PC\_MODEL} register.
		\item Enabled the internal pull-up resistors by writing 256 to \emph{GPIO\_PC\_DOUT}. This is needed to be able to read 3.3 volts from the input pins while a button is pressed down.
	\end{itemize}

	\subsection{Polling}
	\begin{figure}[h]
		\lstinputlisting[frame=single]{code/polling_loop.s}
		\caption{Tight polling loop}
		\label{code:polling_loop}
	\end{figure}
	The first and most na√Øve way of replicating the button input to the LED output, is to let the program sit in a tight loop, better known as polling. The GPIO was set up, and the program was directed to an tight, infinite loop as shown in figure \ref{code:polling_loop}.

	\subsection{Interrupts}
	\label{subsection:interrupts}
	Obviously, there is no need to continiously read from and write to the GPIO registers. The Giant Gecko EFM32 have interrupt support, which makes us able to  


	\subsection{Putting our system to sleep}
	
	\subsection{Lets play a game}

	\subsection{A little section about the Makefile}
